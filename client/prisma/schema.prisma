datasource db {
  url      = env("DATABASE_URL")
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
  previewFeatures = ["extendedIndexes"]
}

model Voter {
    id                Int @default(autoincrement()) @id
    address           String @unique
    // This is storing a uint256
    votes             Decimal @db.Decimal(78, 0)
    firstSeenBlock    Int @map("first_seen_block")
    updatedAt         DateTime @default(now()) @map("updated_at")
    createdAt         DateTime @default(now()) @map("created_at")

    @@map("voters")
}

model Proposal {
    id          Int @default(autoincrement()) @id
    // This is storing a uint256
    proposalId  String @unique @map("proposal_id")
    description String @default("")
    createdAt   DateTime @default(now()) @map("created_at")

    @@map("proposals")
}

model Listener {
    lastSeenBlock Int @map("last_seen_block") @unique

    @@map("listener")
}

model Lockup {
  lockupId  Int @unique
  user      String
  amount    Decimal @db.Decimal(78, 0)
  end       String
  points    Decimal @db.Decimal(78, 0)
  createdAt DateTime @default(now()) @map("created_at")

  @@index([user], type: BTree)
  @@map("lockups")
}
